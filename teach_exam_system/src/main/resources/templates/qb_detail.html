<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
	<head>
		<meta charset="utf-8">
		<title>题目详情</title>
		<link href="css/app.css" rel="stylesheet">
		<link rel="stylesheet" href=""/>
		<link rel="stylesheet" href="../../static/css/questionbank/qbdetail.css"/>
	</head>
	<body>
		<div class="wrapper">
				<nav id="sidebar" class="sidebar js-sidebar">
					<div class="sidebar-content js-simplebar">
						<a class="sidebar-brand">
			      <span class="align-middle">考试系统</span>
			    </a>
			
						<ul class="sidebar-nav">
							<li class="sidebar-header">
										导航栏
									</li>
							
							
									<li class="sidebar-item">
										<a class="sidebar-link" href="teacher.html" th:if="${usertype} eq '0'" >
							  <i class="align-middle" data-feather="user"></i> <span class="align-middle">个人主页</span>
							</a>
							<a class="sidebar-link" href="/personpage3" th:if="${usertype} eq '1'" >
							  <i class="align-middle" data-feather="user"></i> <span class="align-middle">个人主页</span>
							</a>
							<a class="sidebar-link" href="admin.html" th:if="${usertype} eq '2'" >
							  <i class="align-middle" data-feather="user"></i> <span class="align-middle">个人主页</span>
							</a>
									</li>
							
									<li class="sidebar-item">
										<a class="sidebar-link" href="/myexam">
							  <i class="align-middle" data-feather="check-square"></i> <span class="align-middle">考试主页</span>
							</a>
									</li>
							
									<li class="sidebar-item">
										<a class="sidebar-link" href="/class">
							  <i class="align-middle" data-feather="book"></i> <span class="align-middle">课程主页</span>
							</a>
									</li>
							
									<li class="sidebar-item">
										<a class="sidebar-link" href="/questionbankpage">
							  <i class="align-middle" data-feather="map"></i> <span class="align-middle">题库练习</span>
							</a>
									</li>
									<li class="sidebar-item" th:if="${usertype} eq '0'">
												<a class="sidebar-link" href="/AddExaminfo">
									  <i class="align-middle" data-feather="file"></i> <span class="align-middle">上传考试</span>
									</a>
											</li>
						</ul>
					</div>
				</nav>
			
				<div class="main">
					<nav class="navbar navbar-expand navbar-light navbar-bg">
						<a class="sidebar-toggle js-sidebar-toggle">
							<i class="hamburger align-self-center"></i>
						</a>
			
						<div class="navbar-collapse collapse">
							<ul class="navbar-nav navbar-align">
								<li class="nav-item dropdown">
									<a class="nav-icon dropdown-toggle d-inline-block d-sm-none" href="#" data-bs-toggle="dropdown">
										<i class="align-middle" data-feather="settings"></i>
									</a>
			
									<a class="nav-link dropdown-toggle d-none d-sm-inline-block" href="#" data-bs-toggle="dropdown">
										<i class="align-middle me-2" data-feather="feather"></i>
										<span th:if="${usertype} eq '0'">老师</span>
										<span th:if="${usertype} eq '1'">学生</span>
										<span th:if="${usertype} eq '2'">管理员</span>
										<img src="images/someicon/teacher.jpg" class="avatar img-fluid rounded me-1" alt="老师" th:if="${usertype} eq '0'"/> 
										<img src="images/someicon/student.jpg" class="avatar img-fluid rounded me-1" alt="学生" th:if="${usertype} eq '1'"/> 
										<img src="images/someicon/admin.jpg" class="avatar img-fluid rounded me-1" alt="管理员" th:if="${usertype} eq '2'"/> 
										<span class="text-dark" th:utext="${usermail}"></span>
									</a>
									<div class="dropdown-menu dropdown-menu-end">
										<a class="dropdown-item" href="teacherinfoupdate" th:if="${usertype} eq '0'"><i class="align-middle me-1" data-feather="user"></i> 修改信息</a>
										<a class="dropdown-item" href="/newstudentInformation" th:if="${usertype} eq '1'"><i class="align-middle me-1" data-feather="user"></i>  修改信息</a>
										<a class="dropdown-item" href="admininfoupdate" th:if="${usertype} eq '2'"><i class="align-middle me-1" data-feather="user"></i>  修改信息</a>
										<div class="dropdown-divider"></div>
										<a class="dropdown-item" href="logout">Log out</a>
									</div>
								</li>
							</ul>
						</div>
					</nav>
		
				
				<!--在这里写我自己的东西-->
			<section class="mainbox">
				<div class="container-fluid p-0">
					<div class="mb-3">
				
					</div>
					<div class="row">
						<div class="col-md-12">
							<div class="bigbox">
								<div class="typechoose">
										<div class="eachtype"></div>
										<div class="eachtype"></div>
										<div class="eachtype">
											<h1 style="margin-top:6px;">题目详情</h1>
										</div>
										<div class="eachtype"></div>
										<div class="eachtype"></div>
								</div>	
								<div class="forinput">
									<div class="subthing">题目id：</div>
									<div class="subthing">
										<p th:utext="${qinfo.id}" style="font-weight:700;"></p>
									</div>
									<div class="subthing">学科：</div>
									<div class="subthing">
										<p th:utext="${qinfo.subject}" style="font-weight:700;"></p>
										</div>
									<div class="subthing">
									</div>
									<div class="subthing">
									</div>	
								</div>
								<div class="forinput">
									<div class="subthing">分值：</div>
									<div class="subthing">
										<p th:utext="${qinfo.point}" style="font-weight:700;">23</p>
									</div>
									<div class="subthing">难度：</div>
									<div class="subthing">
										<p style="font-weight:700;" th:utext="${qinfo.difficulty}">简单</p>
									</div>
									<div class="subthing"></div>
									<div class="subthing"></div>
								</div>
								<div class="forinput2">
									<div class="subthing">题干：</div>
									<div class="subthing">
										<p th:utext="${qinfo.content}" style="margin-left:20px;margin-top:5px;"></p>
									</div>
									<div class="subthing"></div>
									<div class="subthing"></div>
								</div>
								<div th:if="${not #strings.isEmpty(qinfo.picture)}">
									<div class="forinput3">
										<div class="subtext">题目照片：</div>
										<div class="subpic">
											<img th:src="@{${qinfo.picture}}" width="100%">
										</div>
									</div>
								</div>
							
								<!-- 选择题要额外加选项 -->
								<div th:if ="${qtype} eq '0'">
									<div th:if ="${wshowall} eq '1'">
										<div class="forinput2">
											<div th:if="${qinfo.answer} eq 'A'" class="subthing">
												<input class="form-check-input" type="radio" checked>	
												<span class="form-check-label">A</span>
											</div>
											<div th:if="${qinfo.answer} ne 'A'" class="subthing">
												<input class="form-check-input" type="radio" >	
												<span class="form-check-label">A</span>
											</div>
											<div class="subthing">
												<p th:utext="${qinfo.optiona}" style="margin-left:20px;margin-top:5px;"></p>
											</div>
											<div class="subthing"></div>
											<div class="subthing"></div>
										</div>
										<div class="forinput2">
											<div th:if="${qinfo.answer} eq 'B'" class="subthing">
												<input class="form-check-input" type="radio" checked>	
												<span class="form-check-label">B</span>
											</div>
											<div th:if="${qinfo.answer} ne 'B'" class="subthing">
												<input class="form-check-input" type="radio" >	
												<span class="form-check-label">B</span>
											</div>
											<div class="subthing">
												<p th:utext="${qinfo.optionb}" style="margin-left:20px;margin-top:5px;"></p>
											</div>
											<div class="subthing"></div>
											<div class="subthing"></div>
										</div>
										<div class="forinput2">
											<div th:if="${qinfo.answer} eq 'C'" class="subthing">
												<input class="form-check-input" type="radio" checked>	
												<span class="form-check-label">C</span>
											</div>
											<div th:if="${qinfo.answer} ne 'C'" class="subthing">
												<input class="form-check-input" type="radio" >	
												<span class="form-check-label">C</span>
											</div>
											<div class="subthing">
												<p th:utext="${qinfo.optionc}" style="margin-left:20px;margin-top:5px;"></p>
											</div>
											<div class="subthing"></div>
											<div class="subthing"></div>
										</div>
										<div class="forinput2">
											<div th:if="${qinfo.answer} eq 'D'" class="subthing">
												<input class="form-check-input" type="radio" checked>	
												<span class="form-check-label">D</span>
											</div>
											<div th:if="${qinfo.answer} ne 'D'" class="subthing">
												<input class="form-check-input" type="radio" >	
												<span class="form-check-label">D</span>
											</div>
											<div class="subthing">
												<p th:utext="${qinfo.optiond}" style="margin-left:20px;margin-top:5px;"></p>
											</div>
											<div class="subthing"></div>
											<div class="subthing"></div>
										</div>
									</div>
									<div th:if="${#strings.isEmpty(wshowall)}">
										<div class="forinput2">
											<div class="subthing">
												<input class="form-check-input" type="radio" name="stuanswer" value="A" form="doq">	
												<span class="form-check-label">A</span>
											</div>
											<div class="subthing">
												<p th:utext="${qinfo.optiona}" style="margin-left:20px;margin-top:5px;"></p>
											</div>
											<div class="subthing"></div>
											<div class="subthing"></div>
										</div>
										<div class="forinput2">
											<div class="subthing">
												<input class="form-check-input" type="radio" name="stuanswer" value="B" form="doq">	
												<span class="form-check-label">B</span>
											</div>
											<div class="subthing">
												<p th:utext="${qinfo.optionb}" style="margin-left:20px;margin-top:5px;"></p>
											</div>
											<div class="subthing"></div>
											<div class="subthing"></div>
										</div>
										<div class="forinput2">
											<div class="subthing">
												<input class="form-check-input" type="radio" name="stuanswer" value="C" form="doq">	
												<span class="form-check-label">C</span>
											</div>
											<div class="subthing">
												<p th:utext="${qinfo.optionc}" style="margin-left:20px;margin-top:5px;"></p>
											</div>
											<div class="subthing"></div>
											<div class="subthing"></div>
										</div>
										<div class="forinput2">
											<div class="subthing">
												<input class="form-check-input" type="radio" name="stuanswer" value="D" form="doq">	
												<span class="form-check-label">D</span>
											</div>
											<div class="subthing">
												<p th:utext="${qinfo.optiond}" style="margin-left:20px;margin-top:5px;"></p>
											</div>
											<div class="subthing"></div>
											<div class="subthing"></div>
										</div>
									</div>
								</div>
								<!-- 判断题的答案是T or F -->
								<div th:if ="${qtype} eq '1'">
									<div class="forinput5">
										<div class="subthing">题目答案：</div>
										<div class="subthing">
											<div class="subsub">
												<div th:if="${#strings.isEmpty(wshowall)}">
													<input class="form-check-input" type="radio" name="stuanswer" value="T" form="doq">
												</div>
												<div th:if ="${wshowall} eq '1'">
													<div th:if="${qinfo.answer} eq 'T'">
														<input class="form-check-input" type="radio" checked="true">
													</div>
													<div th:if="${qinfo.answer} ne 'T'">
														<input class="form-check-input" type="radio" >
													</div>
												</div>
												<span class="form-check-label">正确</span>
											</div>
											<div class="subsub">
												<div th:if="${#strings.isEmpty(wshowall)}">
													<input class="form-check-input" type="radio" name="stuanswer" value="F" form="doq">
												</div>
												<div th:if ="${wshowall} eq '1'">
													<div th:if="${qinfo.answer} eq 'F'">
														<input class="form-check-input" type="radio" checked="true">
													</div>
													<div th:if="${qinfo.answer} ne 'F'">
														<input class="form-check-input" type="radio" >
													</div>
												</div>
												<span class="form-check-label">错误</span>
											</div>
											<div class="subsub"></div>
										</div>
										<div class="subthing"></div>
										<div class="subthing"></div>
										<div class="subthing"></div>
										<div class="subthing"></div>
										<div class="subthing"></div>
									</div> 
								</div>
								<div th:if="${not #strings.isEmpty(wshowall)}">
									<div th:if ="${qtype} ge '2'">
										<div class="forinput2">
											<div class="subthing">答案：</div>
											<div class="subthing">
												<p th:utext="${qinfo.answer}" style="margin-left:20px;margin-top:5px;"></p>
											</div>
											<div class="subthing"></div>
											<div class="subthing"></div>
										</div>
									</div>
									<div th:if ="${qtype} eq '3'">
										<div class="forinput3" th:if="${not #strings.isEmpty(qinfo.answerpic)}">
											<div class="subtext">题目照片：</div>
											<div class="subpic">
												<img th:src="@{${qinfo.answerpic}}" width="100%">
											</div>
										</div>
									</div>
								</div>
								<div th:if="${#strings.isEmpty(wshowall)}">
									<div th:if ="${qtype} ge '2'">
										<div class="forinput2">
											<div class="subthing">答案：</div>
											<div class="subthing">
												<textarea cols="50" rows="6"  name="stuanswer" class="form-control" form="doq">输入标准答案</textarea>
											</div>
											<div class="subthing"></div>
											<div class="subthing"></div>
										</div>
									</div>
									<div th:if ="${qtype} eq '3'">
										<div th:if ="${qtype} eq '3'">
											<div class="forinput3x">
												<div class="subthing">答案照片：</div>
												<div class="subthing">
													<input type="file" name="stuanswerpic" class="form-control" form="doq">
												</div>
												<div class="subthing"></div>
												<div class="subthing"></div>
												<div class="subthing"></div>
												<div class="subthing"></div>
												<div class="subthing"></div>
											</div>
										</div>
									</div>
								</div>
								<div  style="display:none;" th:if ="${qtype} le '2'">
									上传我的作答照片：<input type="file" name="stuanswerpic" form="doq"><br/>
								</div>
								<div th:if ="${wshowalldo} eq '1'">
									<div th:if ="${qtype} le '2'">
										<div class="forfill">
											<div class="subsub">
												<p style="font-weight:700;">我的答案：</p>
											</div>
											<div class="subsub2">
												<p th:utext="${stuanswer}"></p>
											</div>
											<div class="subsub"></div>
											<div class="subsub" th:if ="${myscore} gt '0'">
												<img src='/img/yes.png' style="width:50px;height:50px;margin-top:-15px">
											</div>
											<div class="subsub" th:if ="${myscore} eq '0'">
												<img src='/img/wrong.png' style="width:50px;height:50px;margin-top:-15px">
											</div>
											<div class="subsub"></div>
											<div class="subsub"></div>
											<div class="subsub"></div>
											<div class="subsub"></div>
										</div>
									</div>
									<div th:if ="${qtype} eq '3'">
										<div class="forbig">
											<div class="subsub">
												<p style="font-weight:700;">我的答案：</p>
											</div>
											<div class="subsub2">
												<p th:utext="${stuanswer}"></p>
											</div>
											<div class="subsub"></div>
											<div class="subsub"></div>
										</div>
										<div class="forbig" th:if="${not #strings.isEmpty(stuanswerpic)}">
											<div class="subsub">
												<p style="font-weight:700;">我的照片：</p>
											</div>
											<div class="subsub2">
												<div class="forimg">
													<img th:src="@{${stuanswerpic}}" style="width: 100% ; height:100%">
												</div>	
											</div>
											<div class="subsub"></div>
											<div class="subsub"></div>
										</div>
									</div>
								</div>
								
								<div th:if="${#strings.isEmpty(wshowcomment)}">
									<div th:if ="${wshowalldo} eq '1'">
										<div class="forinput2">
											<div class="subthing">做题笔记：</div>
											<div class="subthing">
												<textarea cols="50" rows="6"  name="comment" class="form-control" form="docomment">输入笔记</textarea>
											</div>
											<div class="subthing"></div>
											<div class="subthing"></div>
										</div>
									</div>
								</div>	
								<div th:if ="${wshowcomment} eq '1'">
									<div class="forbig">
										<div class="subsub">
											<p style="font-weight:700;">我的笔记：</p>
										</div>
										<div class="subsub2">
											<p th:utext="${comment}"></p>
										</div>
										<div class="subsub"></div>
										<div class="subsub"></div>
									</div>
								</div>
								<div class="forsubmit" th:if ="${usertype} lt '2'">
										<div class="eachtype"></div>
										<div class="eachtype" th:if ="${#strings.isEmpty(wshowall)}">
											<form action="/qdetail_showall" enctype='multipart/form-data' method='POST'>
												<button type="submit" style="width: 120px; height: 40px; border-radius: 20%;border: none;background-color: #00aa00;">
													<h3 style="margin-top:8px;">
														<font color="white">查看解析</font>
													</h3>
												</button>  
											</form>	
										</div>
										<div class="eachtype" th:if="${#strings.isEmpty(wshowcomment) and (wshowalldo == 1)}" >
											<form action="/qdetail_doq_doc" enctype='multipart/form-data' method='POST' id="docomment">
												<button type="submit" style="width: 120px; height: 40px; border-radius: 20%;border: none;background-color: #007c7c;">
													<h3 style="margin-top:8px;">
														<font color="white">记录笔记</font>
													</h3>
												</button>  
											</form>	
										</div>
										<div class="eachtype" th:if ="${#strings.isEmpty(wshowall) and (usertype<2)}">
											<form action="/qdetail_doq" enctype='multipart/form-data' method='POST' id="doq">
												<button type="submit" style="width: 120px; height: 40px; border-radius: 20%;border: none;background-color: #aa0000;">
													<h3 style="margin-top:8px;">
														<font color="white">作答题目</font>
													</h3>
												</button>
											</form>
										</div>
										<div class="eachtype" th:if="${#strings.isEmpty(wshowcomment) and (wshowalldo == 1)}">
											<form action="/backqbank" enctype='multipart/form-data' method='POST'>
												<button type="submit" style="width: 120px; height: 40px; border-radius: 20%;border: none;background-color: #550000;">
													<h3 style="margin-top:8px;">
														<font color="white">返回题库</font>
													</h3>
												</button>
											</form>
										</div>
										<div class="eachtype">
											
										</div>
										<div class="eachtype"></div>
									</div>
									<div class="forsubmit" th:if ="${usertype} eq '2'">
											<div class="eachtype"></div>
											<div class="eachtype" th:if ="${#strings.isEmpty(wshowall)}">
												<form action="/qdetail_showall" enctype='multipart/form-data' method='POST'>
													<button type="submit" style="width: 120px; height: 40px; border-radius: 20%;border: none;background-color: #00aa00;">
														<h3 style="margin-top:8px;">
															<font color="white">查看解析</font>
														</h3>
													</button>  
												</form>	
											</div>
											<div class="eachtype" th:if ="${not #strings.isEmpty(wshowall)}" >
												<form action="/backqbank" enctype='multipart/form-data' method='POST' id="docomment">
													<button type="submit" style="width: 120px; height: 40px; border-radius: 20%;border: none;background-color: #007c7c;">
														<h3 style="margin-top:8px;">
															<font color="white">返回题库</font>
														</h3>
													</button>  
												</form>	
											</div>
											<div th:if="${not #strings.isEmpty(newpass)}" class="eachtype">
												<div th:if="${(usertype==2) and (newpass==0)}">
													<form action="/check_q" enctype='multipart/form-data' method='POST' id="doq">
														<input type="hidden" name="pass" value=1>
														<button type="submit" style="width: 120px; height: 40px; border-radius: 20%;border: none;background-color: #005500;">
															<h3 >
																<font color="white">通过审核</font>
															</h3>
														</button>
													</form>
												</div>
											</div>
											<div th:if="${#strings.isEmpty(newpass)}" class="eachtype">
												<div th:if="${(usertype==2) and (qinfo.isok==0)}">
													<form action="/check_q" enctype='multipart/form-data' method='POST' id="doq">
														<input type="hidden" name="pass" value=1>
														<button type="submit" style="width: 120px; height: 40px; border-radius: 20%;border: none;background-color: #005500;">
															<h3 >
																<font color="white">通过审核</font>
															</h3>
														</button>
													</form>
												</div>
											</div>
											<div th:if="${not #strings.isEmpty(newpass)}" class="eachtype">
												<div th:if="${(usertype==2) and (newpass==1)}">
													<form action="/check_q" enctype='multipart/form-data' method='POST' id="doq">
														<input type="hidden" name="pass" value=0>
														<button type="submit" style="width: 120px; height: 40px; border-radius: 20%;border: none;background-color: #aa0000;">
															<h3 >
																<font color="white">驳回题目</font>
															</h3>
														</button>
													</form>
												</div>
											</div>
											<div th:if="${#strings.isEmpty(newpass)}" class="eachtype">
												<div th:if="${(usertype==2) and (qinfo.isok==1)}">
													<form action="/check_q" enctype='multipart/form-data' method='POST' id="doq">
														<input type="hidden" name="pass" value=0>
														<button type="submit" style="width: 120px; height: 40px; border-radius: 20%;border: none;background-color: #aa0000;">
															<h3 >
																<font color="white">驳回题目</font>
															</h3>
														</button>
													</form>
												</div>
											</div>
								
											<div class="eachtype">
												
											</div>
											<div class="eachtype"></div>
										
									</div>	
								</div>	
								
						</div>
				
			</section>
			</div>
		</div>
		
		<script src="js/app.js"></script>
	</body>
</html>
